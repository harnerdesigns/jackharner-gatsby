{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/auto-generate-content-gatsby","result":{"data":{"site":{"siteMetadata":{"title":"Jack Harner","description":"Jack Harner is a Freelance Web Developer & E-Commerce Consultant based in Denver, Colorado. Shopify, BigCommerce, WordPress Dev & More.","author":"@jackharner","siteUrl":"https://jackharner.com"}},"markdownRemark":{"html":"<p>JackHarner.com is built with Gatsby, a framework based on React that makes blazing fast websites.</p>\n<p><img src=\"/820ea87f3049eb9b2b311f03873a0118/gatsby-logo.svg\" alt=\"Gatsby Logo\"></p>\n<p>I have my Blog and Portfolio content setup as a couple of directories with subdirectories for the individual posts. Like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">src/\n| ...\n| content/\n  | blog/\n    | blog-post/\n      | index.md\n      | featuredImage.png\n      | ...\n    | blog-post-2/\n      | index.md\n      | featuredImage.png\n      | ...\n    | ...\n  | portfolio/\n    | ...\n</code></pre></div>\n<p>Each of the <code class=\"language-text\">index.md</code> files contains a block of frontmatter dsecribing attributes about the post.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ndate: 2019-12-22T18:23:53.017Z\ntitle: \"Auto-Generate Content Folders In Gatsby\" \nsubtitle: \"Preformat Your Frontmatter &amp; More\"\nfeaturedImage: \"./featuredImage.png\"\ntags: ['Gatsby', 'Node']\nexternalLink: \"\"\npublished: true\n---</code></pre></div>\n<p>All of these folders and files are then parsed at build time to generate the pages and the content throughout the site.</p>\n<p>As some of you may know, I'm very lazy, but Lazy in the good way where I don't like doing repetitive tasks more than once or twice. I've automated tons of simple tasks in my day to day at <a href=\"../../portfolio/shoolu\">Shoolu</a>. Things like Running Reports, and processing product photos are all now 1-2 click tasks, when they used to take hours out of my day every week.</p>\n<p>I wanted starting a new blog post or portfolio piece to be as simple as possible, and with this I've gotten it down to:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=jack data-host=localhost></span></span><span class=\"token function\">npm</span> run newBlog</code></pre></div>\n<p>Let's look at how I did it and how you can speed up a small part of updating your Gatsby site with Node.</p>\n<h2>Create the Template Directory</h2>\n<p>Create a new directory in your <code class=\"language-text\">/src/content/</code> folder called <code class=\"language-text\">templates/</code>. Inside your new <code class=\"language-text\">templates/</code> directory create a new directory for every post type you want to automate. In my case it will be <code class=\"language-text\">blog/</code> and <code class=\"language-text\">portfolio/</code>.</p>\n<p>Now your project should look a little something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">src/\n| ...\n| content/\n  | blog/\n    | ...\n  | portfolio/\n    | ...\n  | templates/\n    | blog/\n      | &lt;empty folder>\n    | portfolio/\n      | &lt;empty folder></code></pre></div>\n<p>{{{vert}}}</p>\n<h2>Get Template-ing</h2>\n<p>This is where you'll need to customize this tutorial to fit with your site and preexisting content. Inside your <code class=\"language-text\">/src/content/templates/&lt;post-type></code> directory, create versions of the files you will need every time you create a post. For me, that includes an <code class=\"language-text\">index.md</code> file with some custom frontmatter, and a <code class=\"language-text\">featuredImage.png</code>.</p>\n<p>Take a look at my <code class=\"language-text\">templates/blog/index.md</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token front-matter-block\"><span class=\"token punctuation\">---</span>\n<span class=\"token front-matter yaml language-yaml\">date: $date\ntitle: \"$title\" \nsubtitle: \"\"\nfeaturedImage: \"./featuredImage.png\"\ntags: ['']\nexternalLink: \"\"\npublished: false</span>\n<span class=\"token punctuation\">---</span></span></code></pre></div>\n<p>Notice the <code class=\"language-text\">$date</code> and <code class=\"language-text\">$title</code> variables in the frontmatter. We will be replacing those variables down the line.</p>\n<p>My default Featured Image is just a solid pink image to match the branding of the site:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAF0lEQVR42mN4KZf8n5qYYdTAUQOHo4EAkbziGHCgAkQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Default Featured Image\"\n        title=\"Default Featured Image\"\n        src=\"/static/124be52bbf346d8c60c354150e3cbdd7/c1b63/defaultFeaturedImage.png\"\n        srcset=\"/static/124be52bbf346d8c60c354150e3cbdd7/5a46d/defaultFeaturedImage.png 300w,\n/static/124be52bbf346d8c60c354150e3cbdd7/0a47e/defaultFeaturedImage.png 600w,\n/static/124be52bbf346d8c60c354150e3cbdd7/c1b63/defaultFeaturedImage.png 1200w,\n/static/124be52bbf346d8c60c354150e3cbdd7/d61c2/defaultFeaturedImage.png 1800w,\n/static/124be52bbf346d8c60c354150e3cbdd7/81ebd/defaultFeaturedImage.png 1868w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>The Featured Image is pretty much always going to be changed down the line. One problem I've run into is that Gatsby, as far as I know, doesn't allow you to set default Frontmatter values. However, having the default allows me to not have to remember \"featuredImage.png\" when saving the updated image (I can just overwrite the default).</p>\n<h2>Script All The Things!</h2>\n<p>Now that we've got our template, we're going to write a Node script that copies the folder and replaces some variables with user input.</p>\n<p>We do need a few dependencies so run this command in your projects root folder:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=jack data-host=localhost></span></span><span class=\"token function\">npm</span> i --save-dev readline-sync ncp replace-in-file</code></pre></div>\n<ul>\n<li><code class=\"language-text\">readline-sync</code> allows for super simple Node CLI Prompts to take in user input.</li>\n<li><code class=\"language-text\">ncp</code> is a tool to help Node copy folders recursively.</li>\n<li><code class=\"language-text\">replace-in-file</code> makes it really easy to substitute values for defined variables in the copied version of the file.</li>\n</ul>\n<p>In the root folder for the project, create a new directory called <code class=\"language-text\">tools/</code> and in that a new file called <code class=\"language-text\">newBlog.js</code></p>\n<p>At the top of <code class=\"language-text\">newBlog.js</code> declare all of the dependencies we'll need:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> readline <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'readline-sync'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> ncp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ncp'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ncp<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> replace <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'replace-in-file'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Next up is to define some variables we are going to use and take in the User Input for Title &#x26; Slug:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> postTitle <span class=\"token operator\">=</span> readline<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"What is the title? \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> slug <span class=\"token operator\">=</span> readline<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Slug? [Default: '\"</span><span class=\"token operator\">+</span> <span class=\"token function\">string_to_slug</span><span class=\"token punctuation\">(</span>postTitle<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span><span class=\"token string\">\"'] \"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">defaultInput</span><span class=\"token operator\">:</span> <span class=\"token function\">string_to_slug</span><span class=\"token punctuation\">(</span>postTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> sourcePath <span class=\"token operator\">=</span> <span class=\"token string\">\"./src/content/templates/blog/\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> destPath <span class=\"token operator\">=</span> <span class=\"token string\">\"./src/content/blog/\"</span> <span class=\"token operator\">+</span> slug<span class=\"token punctuation\">;</span></code></pre></div>\n<p>By setting a default value for the Slug allows me to set the slug to something other than the default, if I want to. Otherwise it just sets it to a url-encoded version of the title.</p>\n<p>Generating the default slug from the given title is done with the following function:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">string_to_slug</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\s+|\\s+$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// trim</span>\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n    <span class=\"token comment\">// remove accents, swap ñ for n, etc</span>\n    <span class=\"token keyword\">var</span> from <span class=\"token operator\">=</span> <span class=\"token string\">\"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> to   <span class=\"token operator\">=</span> <span class=\"token string\">\"aaaaeeeeiiiioooouuuunc------\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> l<span class=\"token operator\">=</span>from<span class=\"token punctuation\">.</span>length <span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span>l <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> to<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^a-z0-9 -]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// remove invalid chars</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\s+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// collapse whitespace and replace by -</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">-+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// collapse dashes</span>\n\n    <span class=\"token keyword\">return</span> str\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>It takes in a string, removes whitespace, converts non url-encoded characters, and replaces spaces with <code class=\"language-text\">-</code> dashes. (\"What's Up Fool?\" -> \"whats-up-fool\").</p>\n<h2>Time To Copy</h2>\n<p>Since everything is set up, it's time to copy the directory. We use <code class=\"language-text\">ncp</code> which is a Node package to replicate Linux's <code class=\"language-text\">cp</code> command. It takes in the Source Folder, the Destination Folder, and a Callback as arguments.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">ncp</span><span class=\"token punctuation\">(</span>sourcePath<span class=\"token punctuation\">,</span> destPath<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Done Copying'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ... Do Stuff After Copying Is Done</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Replace The Template Variables</h2>\n<p>Remember the <code class=\"language-text\">$date</code> and <code class=\"language-text\">$title</code> variables from earlier? Now it's time to swap those out for real values. Using the <code class=\"language-text\">replace-in-file</code> Node Package makes this super simple.</p>\n<p>The <code class=\"language-text\">replace()</code> function takes in an Options Object and a callback. Here's our Options Object:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> replaceOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">files</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span>destPath <span class=\"token operator\">+</span> <span class=\"token string\">\"/index.md\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$title</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$date</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>postTitle<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<p>Define the files to search in, the keys to search for (can be Regex or just a string), &#x26; what to replace them with then <code class=\"language-text\">replace-in-file</code> does all the heavy lifting.  If you pass in an array to both <code class=\"language-text\">from</code> and <code class=\"language-text\">to</code> it will replace the first key in the <code class=\"language-text\">from</code> array to the first value in the <code class=\"language-text\">to</code> array, and so on, allowing you to replace multiple things in one go.</p>\n<p>All that's left is to pass in our options and the callback function.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>replaceOptions<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error<span class=\"token punctuation\">,</span> changedFiles</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error occurred:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Modified files:'</span><span class=\"token punctuation\">,</span> changedFiles<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">', '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Code, Comments, ACTION!</h2>\n<p>You have two options when it comes to actually running the script.</p>\n<ul>\n<li>Just run the script with Node: <code class=\"language-text\">$ node tools/newBlog.js</code></li>\n<li>Add <code class=\"language-text\">node tools/newBlog.js</code> to your <code class=\"language-text\">package.json</code> as a script and run it through NPM (i.e. <code class=\"language-text\">$ npm run newBlog</code>).</li>\n</ul>\n<p>Then enter a title, optionally pick a slug and away we go!</p>\n<h2>Where To Go From Here?</h2>\n<p>If you wanted to take this script a few steps further, here are some ideas to get you started.</p>\n<ul>\n<li>Duplicate your <code class=\"language-text\">tools/newBlog.js</code> file for every other post type, modifying as necessary.</li>\n<li>Refactor the script to be able to handle any post type you throw at it. <code class=\"language-text\">readline-sync</code> has a whole lot of options for taking in user input.</li>\n<li>Create as much content as possible, and automate as many things as possible.</li>\n</ul>\n<p><a href=\"https://twitter.com/jackharner\">Hit me up on Twitter</a> if you implement this script in your Gatsby site! I'd love to hear your suggestions.</p>\n<h2>If You're Lazy, Here's the full script:</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> readline <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'readline-sync'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> ncp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ncp'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ncp<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> replace <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'replace-in-file'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> postTitle <span class=\"token operator\">=</span> readline<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"What is the title? \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> slug <span class=\"token operator\">=</span> readline<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Slug? [Default: '\"</span><span class=\"token operator\">+</span> <span class=\"token function\">string_to_slug</span><span class=\"token punctuation\">(</span>postTitle<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span><span class=\"token string\">\"'] \"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">defaultInput</span><span class=\"token operator\">:</span> <span class=\"token function\">string_to_slug</span><span class=\"token punctuation\">(</span>postTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> sourcePath <span class=\"token operator\">=</span> <span class=\"token string\">\"./src/content/templates/blog/\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> destPath <span class=\"token operator\">=</span> <span class=\"token string\">\"./src/content/blog/\"</span> <span class=\"token operator\">+</span> slug<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> replaceOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">files</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span>destPath <span class=\"token operator\">+</span> <span class=\"token string\">\"/index.md\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$title</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\$date</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>postTitle<span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> \n\n\n<span class=\"token function\">ncp</span><span class=\"token punctuation\">(</span>sourcePath<span class=\"token punctuation\">,</span> destPath<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Done Copying'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>replaceOptions<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error<span class=\"token punctuation\">,</span> changedFiles</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error occurred:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Modified files:'</span><span class=\"token punctuation\">,</span> changedFiles<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">', '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">string_to_slug</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\s+|\\s+$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// trim</span>\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n    <span class=\"token comment\">// remove accents, swap ñ for n, etc</span>\n    <span class=\"token keyword\">var</span> from <span class=\"token operator\">=</span> <span class=\"token string\">\"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> to   <span class=\"token operator\">=</span> <span class=\"token string\">\"aaaaeeeeiiiioooouuuunc------\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> l<span class=\"token operator\">=</span>from<span class=\"token punctuation\">.</span>length <span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span>l <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> to<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    str <span class=\"token operator\">=</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">[^a-z0-9 -]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// remove invalid chars</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\s+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// collapse whitespace and replace by -</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">-+</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// collapse dashes</span>\n\n    <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","excerpt":"JackHarner.com is built with Gatsby, a framework based on React that makes blazing fast websites. Gatsby Logo I have my Blog and Portfolio content…","wordCount":{"words":888},"frontmatter":{"date":"December 22, 2019","updated":null,"title":"Auto-Generate Content Folders In Gatsby","subtitle":"Preformat Your Frontmatter & More","tags":["Gatsby","Node","Automation"],"featuredImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/auto-generate-content-gatsby/featuredImage.jpg","childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#c8b8b8","images":{"fallback":{"src":"/static/bc2a937d47ea91cb852001a44e11cff7/62e45/featuredImage.jpg","srcSet":"/static/bc2a937d47ea91cb852001a44e11cff7/53c59/featuredImage.jpg 750w,\n/static/bc2a937d47ea91cb852001a44e11cff7/64b93/featuredImage.jpg 1080w,\n/static/bc2a937d47ea91cb852001a44e11cff7/9b47f/featuredImage.jpg 1366w,\n/static/bc2a937d47ea91cb852001a44e11cff7/62e45/featuredImage.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/bc2a937d47ea91cb852001a44e11cff7/3970f/featuredImage.webp 750w,\n/static/bc2a937d47ea91cb852001a44e11cff7/90a5d/featuredImage.webp 1080w,\n/static/bc2a937d47ea91cb852001a44e11cff7/cebd1/featuredImage.webp 1366w,\n/static/bc2a937d47ea91cb852001a44e11cff7/d8f44/featuredImage.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.665625}}},"ogImage":null},"fields":{"externalLink":"","externalLinkLabel":"Check It Out »","slug":"/blog/auto-generate-content-gatsby/","ogImage":"","date":"December 22, 2019","unlisted":false}}},"pageContext":{"slug":"/blog/auto-generate-content-gatsby/","related":[{"id":"19179acf-05da-54ca-af33-b10ace0b0ec7","excerpt":"If you use GitHub actions to build and deploy (CI/CD) a project, you can schedule those actions to automatically run on a specific time…","fields":{"date":"2022-08-28T01:31:07.167Z","slug":"/blog/github-actions-cron/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"How to Run GitHub Actions on a Schedule","subtitle":"Using Cron with GitHub Actions","tags":["Automation","Git","Newsletter"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/9ed9c634f17b6fffd3b6ca13f9d6e452/507ee/chuttersnap-mytSmcgVHRE-unsplash.jpg","srcSet":"/static/9ed9c634f17b6fffd3b6ca13f9d6e452/df91e/chuttersnap-mytSmcgVHRE-unsplash.jpg 131w,\n/static/9ed9c634f17b6fffd3b6ca13f9d6e452/320b8/chuttersnap-mytSmcgVHRE-unsplash.jpg 262w,\n/static/9ed9c634f17b6fffd3b6ca13f9d6e452/507ee/chuttersnap-mytSmcgVHRE-unsplash.jpg 524w,\n/static/9ed9c634f17b6fffd3b6ca13f9d6e452/5b412/chuttersnap-mytSmcgVHRE-unsplash.jpg 1048w","sizes":"(min-width: 524px) 524px, 100vw"},"sources":[{"srcSet":"/static/9ed9c634f17b6fffd3b6ca13f9d6e452/1b701/chuttersnap-mytSmcgVHRE-unsplash.webp 131w,\n/static/9ed9c634f17b6fffd3b6ca13f9d6e452/1d159/chuttersnap-mytSmcgVHRE-unsplash.webp 262w,\n/static/9ed9c634f17b6fffd3b6ca13f9d6e452/9bcf8/chuttersnap-mytSmcgVHRE-unsplash.webp 524w,\n/static/9ed9c634f17b6fffd3b6ca13f9d6e452/ab380/chuttersnap-mytSmcgVHRE-unsplash.webp 1048w","type":"image/webp","sizes":"(min-width: 524px) 524px, 100vw"}]},"width":524,"height":350}}}}},{"id":"7db9cb17-a99f-548b-8a2d-55cf727d77ee","excerpt":"Do you want to include the Subscriber Count from your ConvertKit Newsletter on your Gatsby.js Site? If that oddly specific scenario applies…","fields":{"date":"2020-10-18T02:53:15.461Z","slug":"/blog/convertkit-subscriber-count-on-gatsby-site/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Display ConvertKit Subscriber Count On Your Gatsby Site","subtitle":"Use Social Proof To Drive More Newsletter Signups","tags":["Gatsby","Automation","JavaScript","Tutorial"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#383838","images":{"fallback":{"src":"/static/95e7f8fda66383cb6f3026bb4df90fc3/def91/nick-hillier-yD5rv8_WzxA-unsplash.jpg","srcSet":"/static/95e7f8fda66383cb6f3026bb4df90fc3/df91e/nick-hillier-yD5rv8_WzxA-unsplash.jpg 131w,\n/static/95e7f8fda66383cb6f3026bb4df90fc3/9a46b/nick-hillier-yD5rv8_WzxA-unsplash.jpg 263w,\n/static/95e7f8fda66383cb6f3026bb4df90fc3/def91/nick-hillier-yD5rv8_WzxA-unsplash.jpg 525w,\n/static/95e7f8fda66383cb6f3026bb4df90fc3/2437e/nick-hillier-yD5rv8_WzxA-unsplash.jpg 1050w","sizes":"(min-width: 525px) 525px, 100vw"},"sources":[{"srcSet":"/static/95e7f8fda66383cb6f3026bb4df90fc3/1b701/nick-hillier-yD5rv8_WzxA-unsplash.webp 131w,\n/static/95e7f8fda66383cb6f3026bb4df90fc3/90103/nick-hillier-yD5rv8_WzxA-unsplash.webp 263w,\n/static/95e7f8fda66383cb6f3026bb4df90fc3/a7b62/nick-hillier-yD5rv8_WzxA-unsplash.webp 525w,\n/static/95e7f8fda66383cb6f3026bb4df90fc3/25270/nick-hillier-yD5rv8_WzxA-unsplash.webp 1050w","type":"image/webp","sizes":"(min-width: 525px) 525px, 100vw"}]},"width":525,"height":350}}}}},{"id":"a3d5e29c-5dc0-53b7-b8ca-b519f5d50e8d","excerpt":"MkDocs is a \"fast, simple and downright gorgeous\" static site generator for turning a collection of Markdown files into a documentation site…","fields":{"date":"2020-08-09T11:53:35.000Z","slug":"/blog/generate-a-docs-site-instantly/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Generate Documentation From Markdown AUTOMATICALLY","subtitle":"Meet MkDocs","tags":["Automation","Markdown","Python","Newsletter"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#181828","images":{"fallback":{"src":"/static/d17fa935e155b23ff8c349c2d6a282f1/def91/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.jpg","srcSet":"/static/d17fa935e155b23ff8c349c2d6a282f1/df91e/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.jpg 131w,\n/static/d17fa935e155b23ff8c349c2d6a282f1/9a46b/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.jpg 263w,\n/static/d17fa935e155b23ff8c349c2d6a282f1/def91/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.jpg 525w,\n/static/d17fa935e155b23ff8c349c2d6a282f1/2437e/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.jpg 1050w","sizes":"(min-width: 525px) 525px, 100vw"},"sources":[{"srcSet":"/static/d17fa935e155b23ff8c349c2d6a282f1/1b701/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.webp 131w,\n/static/d17fa935e155b23ff8c349c2d6a282f1/90103/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.webp 263w,\n/static/d17fa935e155b23ff8c349c2d6a282f1/a7b62/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.webp 525w,\n/static/d17fa935e155b23ff8c349c2d6a282f1/25270/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.webp 1050w","type":"image/webp","sizes":"(min-width: 525px) 525px, 100vw"}]},"width":525,"height":350}}}}},{"id":"c666a55b-9e7b-5487-808f-5c2d9d50da6c","excerpt":"I wrote a python script for Shoolu.com to use the BigCommerce API to pull the latest added products and generate an XML RSS file…","fields":{"date":"2018-08-17T21:31:40.000Z","slug":"/blog/pointing-a-domain-to-the-newest-file-in-a-directory/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Pointing A Domain to The Newest File In A Directory","subtitle":"","tags":["Linux"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e81868","images":{"fallback":{"src":"/static/124be52bbf346d8c60c354150e3cbdd7/83513/featuredImage.png","srcSet":"/static/124be52bbf346d8c60c354150e3cbdd7/524f8/featuredImage.png 172w,\n/static/124be52bbf346d8c60c354150e3cbdd7/9c87a/featuredImage.png 344w,\n/static/124be52bbf346d8c60c354150e3cbdd7/83513/featuredImage.png 687w,\n/static/124be52bbf346d8c60c354150e3cbdd7/f8354/featuredImage.png 1374w","sizes":"(min-width: 687px) 687px, 100vw"},"sources":[{"srcSet":"/static/124be52bbf346d8c60c354150e3cbdd7/fa0cb/featuredImage.webp 172w,\n/static/124be52bbf346d8c60c354150e3cbdd7/470f7/featuredImage.webp 344w,\n/static/124be52bbf346d8c60c354150e3cbdd7/a5f32/featuredImage.webp 687w,\n/static/124be52bbf346d8c60c354150e3cbdd7/a73ea/featuredImage.webp 1374w","type":"image/webp","sizes":"(min-width: 687px) 687px, 100vw"}]},"width":687,"height":350}}}}}]}},"staticQueryHashes":["3649515864","764694655"],"slicesMap":{}}