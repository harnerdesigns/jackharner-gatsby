{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/gutenberg-selectcontrol-not-saving-attributes/","result":{"data":{"site":{"siteMetadata":{"title":"Jack Harner","description":"Jack Harner is a Freelance Web Developer & E-Commerce Consultant based in Denver, Colorado. Shopify, BigCommerce, WordPress Dev & More.","author":"@jackharner","siteUrl":"https://jackharner.com"}},"markdownRemark":{"html":"<h2 id=\"setattributes-doesnt-automatically-convert-types\" style=\"position:relative;\"><a href=\"#setattributes-doesnt-automatically-convert-types\" aria-label=\"setattributes doesnt automatically convert types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SetAttributes() Doesn't Automatically Convert Types</h2>\n<p>I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building. Turns out the <code class=\"language-text\">setAttribute()</code> function doesn't automatically convert types. The SelectControl returns the value as a string, &#x26; since the attribute was expecting a Number:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The attribute wasn't getting saved as anything.</p>\n<h2 id=\"a-few-solutions\" style=\"position:relative;\"><a href=\"#a-few-solutions\" aria-label=\"a few solutions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Few Solutions</h2>\n<p>The easiest way to solve this is just convert the String value to a Number with <code class=\"language-text\">parseInt()</code> when setting the Attribute:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onChangeCat1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setAttributes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Other than that you can adjust your attribute type to just accept a string, however given that WordPress expects Post IDs to be Numbers this probably isn't the best solution:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Make sure you're saving your attributes as the appropriate type, (Number, String, Boolean, etc.) and WordPress Gutenberg should stop giving you issues. Hit me up on BlueSky <a href=\"https://bsky.app/profile/jackharner.com\">@JackHarner</a> if you have any other WordPress related questions.</p>","excerpt":"SetAttributes() Doesn't Automatically Convert Types I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building…","wordCount":{"words":143},"frontmatter":{"date":"March 15, 2022","updated":null,"title":"SelectControl Not Saving Attributes","subtitle":"Troubleshooting and Fixing A Custom Gutenberg Block","tags":["WordPress"],"featuredImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#084898","images":{"fallback":{"src":"/static/af0bb5be96a29883f616acee4e8a72c7/93895/featuredImage.png","srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/e7dcc/featuredImage.png 750w,\n/static/af0bb5be96a29883f616acee4e8a72c7/93895/featuredImage.png 1012w","sizes":"100vw"},"sources":[{"srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/ee7ce/featuredImage.webp 750w,\n/static/af0bb5be96a29883f616acee4e8a72c7/c04cc/featuredImage.webp 1012w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}},"ogImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#084898","images":{"fallback":{"src":"/static/af0bb5be96a29883f616acee4e8a72c7/894e2/featuredImage.png","srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/d5e83/featuredImage.png 253w,\n/static/af0bb5be96a29883f616acee4e8a72c7/851fa/featuredImage.png 506w,\n/static/af0bb5be96a29883f616acee4e8a72c7/894e2/featuredImage.png 1012w","sizes":"(min-width: 1012px) 1012px, 100vw"},"sources":[{"srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/e5e61/featuredImage.webp 253w,\n/static/af0bb5be96a29883f616acee4e8a72c7/a7222/featuredImage.webp 506w,\n/static/af0bb5be96a29883f616acee4e8a72c7/648bd/featuredImage.webp 1012w","type":"image/webp","sizes":"(min-width: 1012px) 1012px, 100vw"}]},"width":1200,"height":629.6442687747036}}}},"fields":{"externalLink":"","externalLinkLabel":"Check It Out »","slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","ogImage":"./featuredImage.png","date":"March 15, 2022","unlisted":false}}},"pageContext":{"slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","related":[{"id":"896865a0-3dc5-537e-9f71-f7f84f960c3a","excerpt":"Shopify sections make it super easy to add customizable settings that your clients can control with a wonderful user-friendly UI. One of the…","fields":{"date":"2022-04-05T17:48:09.249Z","slug":"/blog/how-to-tell-if-a-color-setting-is-set-in-shopify-liquid/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"How To Tell If A Color Setting Is Set In Shopify Liquid","subtitle":"","tags":["Shopify","Code Snippets"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8e808","images":{"fallback":{"src":"/static/14d9066ae435b89f0e8f2318a05cf4b5/9dbde/steve-johnson-wpw8sHoBtSY-unsplash.jpg","srcSet":"/static/14d9066ae435b89f0e8f2318a05cf4b5/3136f/steve-johnson-wpw8sHoBtSY-unsplash.jpg 120w,\n/static/14d9066ae435b89f0e8f2318a05cf4b5/2909f/steve-johnson-wpw8sHoBtSY-unsplash.jpg 240w,\n/static/14d9066ae435b89f0e8f2318a05cf4b5/9dbde/steve-johnson-wpw8sHoBtSY-unsplash.jpg 480w,\n/static/14d9066ae435b89f0e8f2318a05cf4b5/60a97/steve-johnson-wpw8sHoBtSY-unsplash.jpg 960w","sizes":"(min-width: 480px) 480px, 100vw"},"sources":[{"srcSet":"/static/14d9066ae435b89f0e8f2318a05cf4b5/f9c3f/steve-johnson-wpw8sHoBtSY-unsplash.webp 120w,\n/static/14d9066ae435b89f0e8f2318a05cf4b5/054c0/steve-johnson-wpw8sHoBtSY-unsplash.webp 240w,\n/static/14d9066ae435b89f0e8f2318a05cf4b5/cb0a6/steve-johnson-wpw8sHoBtSY-unsplash.webp 480w,\n/static/14d9066ae435b89f0e8f2318a05cf4b5/83d10/steve-johnson-wpw8sHoBtSY-unsplash.webp 960w","type":"image/webp","sizes":"(min-width: 480px) 480px, 100vw"}]},"width":480,"height":350}}}}},{"id":"f6f7b239-f8c8-5c08-a17b-4fdd5d4845b4","excerpt":"Today I’m going to show you how to use Flex Box to create a row of buttons that turns into a responsive list of links with just CSS. This…","fields":{"date":"2016-06-20T03:28:56.000Z","slug":"/blog/using-flex-box-for-responsive-design/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Using Flex Box For Responsive Design","subtitle":"","tags":["CSS"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e81868","images":{"fallback":{"src":"/static/124be52bbf346d8c60c354150e3cbdd7/83513/featuredImage.png","srcSet":"/static/124be52bbf346d8c60c354150e3cbdd7/524f8/featuredImage.png 172w,\n/static/124be52bbf346d8c60c354150e3cbdd7/9c87a/featuredImage.png 344w,\n/static/124be52bbf346d8c60c354150e3cbdd7/83513/featuredImage.png 687w,\n/static/124be52bbf346d8c60c354150e3cbdd7/f8354/featuredImage.png 1374w","sizes":"(min-width: 687px) 687px, 100vw"},"sources":[{"srcSet":"/static/124be52bbf346d8c60c354150e3cbdd7/fa0cb/featuredImage.webp 172w,\n/static/124be52bbf346d8c60c354150e3cbdd7/470f7/featuredImage.webp 344w,\n/static/124be52bbf346d8c60c354150e3cbdd7/a5f32/featuredImage.webp 687w,\n/static/124be52bbf346d8c60c354150e3cbdd7/a73ea/featuredImage.webp 1374w","type":"image/webp","sizes":"(min-width: 687px) 687px, 100vw"}]},"width":687,"height":350}}}}},{"id":"77e338de-3947-5507-81ec-a2f8a025b4b4","excerpt":"You probably found this post because you're trying to crop images in WordPress' Media Library Image Editor. The button's greyed out right…","fields":{"date":"2018-12-17T06:06:29.000Z","slug":"/blog/wordpress-crop-image-button-grayed-out/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"WordPress Crop Image Button Grayed Out","subtitle":"How To Fix Cropping Issues","tags":["WordPress"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e81868","images":{"fallback":{"src":"/static/124be52bbf346d8c60c354150e3cbdd7/83513/featuredImage.png","srcSet":"/static/124be52bbf346d8c60c354150e3cbdd7/524f8/featuredImage.png 172w,\n/static/124be52bbf346d8c60c354150e3cbdd7/9c87a/featuredImage.png 344w,\n/static/124be52bbf346d8c60c354150e3cbdd7/83513/featuredImage.png 687w,\n/static/124be52bbf346d8c60c354150e3cbdd7/f8354/featuredImage.png 1374w","sizes":"(min-width: 687px) 687px, 100vw"},"sources":[{"srcSet":"/static/124be52bbf346d8c60c354150e3cbdd7/fa0cb/featuredImage.webp 172w,\n/static/124be52bbf346d8c60c354150e3cbdd7/470f7/featuredImage.webp 344w,\n/static/124be52bbf346d8c60c354150e3cbdd7/a5f32/featuredImage.webp 687w,\n/static/124be52bbf346d8c60c354150e3cbdd7/a73ea/featuredImage.webp 1374w","type":"image/webp","sizes":"(min-width: 687px) 687px, 100vw"}]},"width":687,"height":350}}}}},{"id":"64fa761f-404d-5685-beaa-3f94e6010841","excerpt":"When building or modifying BigCommerce's Open Source checkout-js, the only way the docs claim you can access the locally running version of…","fields":{"date":"2024-01-21T05:10:04.544Z","slug":"/blog/working-on-a-bigcommerce-custom-checkout-locally/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Working On A BigCommerce Custom Checkout Locally","subtitle":"Without Breaking Your Store's Live Checkout","tags":["BigCommerce","React"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#181828","images":{"fallback":{"src":"/static/2baa625f612c08834e3070aa5d45db72/d0e56/ramiro-mendes-sMCBEI5zkqc-unsplash.jpg","srcSet":"/static/2baa625f612c08834e3070aa5d45db72/b6c87/ramiro-mendes-sMCBEI5zkqc-unsplash.jpg 131w,\n/static/2baa625f612c08834e3070aa5d45db72/320b8/ramiro-mendes-sMCBEI5zkqc-unsplash.jpg 262w,\n/static/2baa625f612c08834e3070aa5d45db72/d0e56/ramiro-mendes-sMCBEI5zkqc-unsplash.jpg 523w,\n/static/2baa625f612c08834e3070aa5d45db72/5ce16/ramiro-mendes-sMCBEI5zkqc-unsplash.jpg 1046w","sizes":"(min-width: 523px) 523px, 100vw"},"sources":[{"srcSet":"/static/2baa625f612c08834e3070aa5d45db72/77115/ramiro-mendes-sMCBEI5zkqc-unsplash.webp 131w,\n/static/2baa625f612c08834e3070aa5d45db72/1d159/ramiro-mendes-sMCBEI5zkqc-unsplash.webp 262w,\n/static/2baa625f612c08834e3070aa5d45db72/f14ab/ramiro-mendes-sMCBEI5zkqc-unsplash.webp 523w,\n/static/2baa625f612c08834e3070aa5d45db72/1de32/ramiro-mendes-sMCBEI5zkqc-unsplash.webp 1046w","type":"image/webp","sizes":"(min-width: 523px) 523px, 100vw"}]},"width":523,"height":350}}}}}]}},"staticQueryHashes":["3649515864","764694655"],"slicesMap":{}}