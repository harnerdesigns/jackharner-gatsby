{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/gutenberg-selectcontrol-not-saving-attributes/","result":{"data":{"site":{"siteMetadata":{"title":"Jack Harner","description":"Jack Harner is a Freelance Web Developer & E-Commerce Consultant based in Denver, Colorado. Shopify, BigCommerce, WordPress Dev & More.","author":"@jackharner","siteUrl":"https://jackharner.com"}},"markdownRemark":{"html":"<h2 id=\"setattributes-doesnt-automatically-convert-types\" style=\"position:relative;\"><a href=\"#setattributes-doesnt-automatically-convert-types\" aria-label=\"setattributes doesnt automatically convert types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SetAttributes() Doesn't Automatically Convert Types</h2>\n<p>I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building. Turns out the <code class=\"language-text\">setAttribute()</code> function doesn't automatically convert types. The SelectControl returns the value as a string, &#x26; since the attribute was expecting a Number:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The attribute wasn't getting saved as anything.</p>\n<h2 id=\"a-few-solutions\" style=\"position:relative;\"><a href=\"#a-few-solutions\" aria-label=\"a few solutions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Few Solutions</h2>\n<p>The easiest way to solve this is just convert the String value to a Number with <code class=\"language-text\">parseInt()</code> when setting the Attribute:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onChangeCat1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setAttributes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Other than that you can adjust your attribute type to just accept a string, however given that WordPress expects Post IDs to be Numbers this probably isn't the best solution:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Make sure you're saving your attributes as the appropriate type, (Number, String, Boolean, etc.) and WordPress Gutenberg should stop giving you issues. Hit me up on Twitter <a href=\"https://twitter.com/jackharner\">@JackHarner</a> if you have any other WordPress related questions.</p>","excerpt":"SetAttributes() Doesn't Automatically Convert Types I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building…","wordCount":{"words":143},"frontmatter":{"date":"March 15, 2022","updated":null,"title":"SelectControl Not Saving Attributes","subtitle":"Troubleshooting and Fixing A Custom Gutenberg Block","tags":["WordPress"],"featuredImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#084898","images":{"fallback":{"src":"/static/af0bb5be96a29883f616acee4e8a72c7/93895/featuredImage.png","srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/e7dcc/featuredImage.png 750w,\n/static/af0bb5be96a29883f616acee4e8a72c7/93895/featuredImage.png 1012w","sizes":"100vw"},"sources":[{"srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/ee7ce/featuredImage.webp 750w,\n/static/af0bb5be96a29883f616acee4e8a72c7/c04cc/featuredImage.webp 1012w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5}}},"ogImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#084898","images":{"fallback":{"src":"/static/af0bb5be96a29883f616acee4e8a72c7/894e2/featuredImage.png","srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/d5e83/featuredImage.png 253w,\n/static/af0bb5be96a29883f616acee4e8a72c7/851fa/featuredImage.png 506w,\n/static/af0bb5be96a29883f616acee4e8a72c7/894e2/featuredImage.png 1012w","sizes":"(min-width: 1012px) 1012px, 100vw"},"sources":[{"srcSet":"/static/af0bb5be96a29883f616acee4e8a72c7/e5e61/featuredImage.webp 253w,\n/static/af0bb5be96a29883f616acee4e8a72c7/a7222/featuredImage.webp 506w,\n/static/af0bb5be96a29883f616acee4e8a72c7/648bd/featuredImage.webp 1012w","type":"image/webp","sizes":"(min-width: 1012px) 1012px, 100vw"}]},"width":1200,"height":629.6442687747036}}}},"fields":{"externalLink":"","externalLinkLabel":"Check It Out »","slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","ogImage":"./featuredImage.png","date":"March 15, 2022","unlisted":false}}},"pageContext":{"slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","related":[{"id":"a32d4c5e-5360-598f-8ef5-b03985a62c41","excerpt":"Post Updated November 21st, 2022 to work with Stencil-CLI >5.x Back in November 2019, GitHub released GitHub Actions. An \"API for cause and…","fields":{"date":"2022-11-21T11:43:40.000Z","slug":"/blog/bigcommerce-stencil-ci-cd-with-github-actions/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"BigCommerce Stencil CI/CD with GitHub Actions","subtitle":"Publish Your Theme on Every Commit to Main","tags":["BigCommerce","E-Commerce","Git","Automation","Newsletter"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#d8d8d8","images":{"fallback":{"src":"/static/e26ae245f60e09086890e12c5f409ce1/def91/martin-adams-a_PDPUPuNZ8-unsplash.jpg","srcSet":"/static/e26ae245f60e09086890e12c5f409ce1/df91e/martin-adams-a_PDPUPuNZ8-unsplash.jpg 131w,\n/static/e26ae245f60e09086890e12c5f409ce1/9a46b/martin-adams-a_PDPUPuNZ8-unsplash.jpg 263w,\n/static/e26ae245f60e09086890e12c5f409ce1/def91/martin-adams-a_PDPUPuNZ8-unsplash.jpg 525w,\n/static/e26ae245f60e09086890e12c5f409ce1/2437e/martin-adams-a_PDPUPuNZ8-unsplash.jpg 1050w","sizes":"(min-width: 525px) 525px, 100vw"},"sources":[{"srcSet":"/static/e26ae245f60e09086890e12c5f409ce1/1b701/martin-adams-a_PDPUPuNZ8-unsplash.webp 131w,\n/static/e26ae245f60e09086890e12c5f409ce1/90103/martin-adams-a_PDPUPuNZ8-unsplash.webp 263w,\n/static/e26ae245f60e09086890e12c5f409ce1/a7b62/martin-adams-a_PDPUPuNZ8-unsplash.webp 525w,\n/static/e26ae245f60e09086890e12c5f409ce1/25270/martin-adams-a_PDPUPuNZ8-unsplash.webp 1050w","type":"image/webp","sizes":"(min-width: 525px) 525px, 100vw"}]},"width":525,"height":350}}}}},{"id":"46dde03b-71ea-58ae-9a77-94d48debc139","excerpt":"Read My Diary 😉 I was asked to guest post on the BigCommerce Developer blog as part of their Developer Diaries series. The series looks at…","fields":{"date":"2019-11-22T17:14:33.962Z","slug":"/blog/bigcommerce-developer-diary/","collection":"blog","published":true,"externalLink":"https://medium.com/bigcommerce-developer-blog/developer-diary-jack-harner-shoolu-com-ad163caeda35","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"BigCommerce Developer Diary","subtitle":"A Week In My Work Life","tags":["BigCommerce","Career","Automation","E-Commerce"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#281878","images":{"fallback":{"src":"/static/88b5fd923814a1f1eff643a19a6cc19d/acf5a/featuredImage.png","srcSet":"/static/88b5fd923814a1f1eff643a19a6cc19d/42c0e/featuredImage.png 146w,\n/static/88b5fd923814a1f1eff643a19a6cc19d/e4066/featuredImage.png 292w,\n/static/88b5fd923814a1f1eff643a19a6cc19d/acf5a/featuredImage.png 584w,\n/static/88b5fd923814a1f1eff643a19a6cc19d/a7dae/featuredImage.png 1168w","sizes":"(min-width: 584px) 584px, 100vw"},"sources":[{"srcSet":"/static/88b5fd923814a1f1eff643a19a6cc19d/eb5c3/featuredImage.webp 146w,\n/static/88b5fd923814a1f1eff643a19a6cc19d/04ba0/featuredImage.webp 292w,\n/static/88b5fd923814a1f1eff643a19a6cc19d/57bff/featuredImage.webp 584w,\n/static/88b5fd923814a1f1eff643a19a6cc19d/a30b1/featuredImage.webp 1168w","type":"image/webp","sizes":"(min-width: 584px) 584px, 100vw"}]},"width":584,"height":350}}}}},{"id":"1732511e-0852-527d-b359-940d470ea8b0","excerpt":"After wanting one for some time, I finally caved and bought a Raspberry Pi. I got the Pi 4 Model B, the latest and greatest. It boasts the…","fields":{"date":"2020-05-30T02:06:06.076Z","slug":"/blog/i-just-got-a-raspberry-pi/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"I Just Got A Raspberry Pi","subtitle":"PiHole, DNS, Oh My!","tags":["Raspberry Pi","Linux"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f898b8","images":{"fallback":{"src":"/static/f981484910e686b1685b12026887ba82/98e16/featuredImage.jpg","srcSet":"/static/f981484910e686b1685b12026887ba82/b5dbb/featuredImage.jpg 167w,\n/static/f981484910e686b1685b12026887ba82/97cfb/featuredImage.jpg 334w,\n/static/f981484910e686b1685b12026887ba82/98e16/featuredImage.jpg 667w,\n/static/f981484910e686b1685b12026887ba82/f0b90/featuredImage.jpg 1334w","sizes":"(min-width: 667px) 667px, 100vw"},"sources":[{"srcSet":"/static/f981484910e686b1685b12026887ba82/bcba2/featuredImage.webp 167w,\n/static/f981484910e686b1685b12026887ba82/fb036/featuredImage.webp 334w,\n/static/f981484910e686b1685b12026887ba82/bbe13/featuredImage.webp 667w,\n/static/f981484910e686b1685b12026887ba82/994d2/featuredImage.webp 1334w","type":"image/webp","sizes":"(min-width: 667px) 667px, 100vw"}]},"width":667,"height":350}}}}},{"id":"5ea14632-ce9f-541d-a166-72472e63c4cf","excerpt":"If you want to retrieve a WordPress page by its title you used to be able to do that with a nifty function called . Well now WordPress has…","fields":{"date":"2024-01-20T07:28:16.378Z","slug":"/blog/get-page-by-title-is-deprecated/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Function get_page_by_title is deprecated since version 6.2.0! Use WP_Query instead.","subtitle":"How to Get a Page By Title with WP_Query","tags":["WordPress"],"published":true,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/4564b948bb4e0dcbcb47a62cf2c50d55/def91/ed-robertson-eeSdJfLfx1A-unsplash.jpg","srcSet":"/static/4564b948bb4e0dcbcb47a62cf2c50d55/df91e/ed-robertson-eeSdJfLfx1A-unsplash.jpg 131w,\n/static/4564b948bb4e0dcbcb47a62cf2c50d55/9a46b/ed-robertson-eeSdJfLfx1A-unsplash.jpg 263w,\n/static/4564b948bb4e0dcbcb47a62cf2c50d55/def91/ed-robertson-eeSdJfLfx1A-unsplash.jpg 525w,\n/static/4564b948bb4e0dcbcb47a62cf2c50d55/2437e/ed-robertson-eeSdJfLfx1A-unsplash.jpg 1050w","sizes":"(min-width: 525px) 525px, 100vw"},"sources":[{"srcSet":"/static/4564b948bb4e0dcbcb47a62cf2c50d55/1b701/ed-robertson-eeSdJfLfx1A-unsplash.webp 131w,\n/static/4564b948bb4e0dcbcb47a62cf2c50d55/90103/ed-robertson-eeSdJfLfx1A-unsplash.webp 263w,\n/static/4564b948bb4e0dcbcb47a62cf2c50d55/a7b62/ed-robertson-eeSdJfLfx1A-unsplash.webp 525w,\n/static/4564b948bb4e0dcbcb47a62cf2c50d55/25270/ed-robertson-eeSdJfLfx1A-unsplash.webp 1050w","type":"image/webp","sizes":"(min-width: 525px) 525px, 100vw"}]},"width":525,"height":350}}}}}]}},"staticQueryHashes":["3649515864","764694655"],"slicesMap":{}}