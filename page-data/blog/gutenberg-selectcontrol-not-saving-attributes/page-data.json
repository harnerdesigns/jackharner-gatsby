{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/blog/gutenberg-selectcontrol-not-saving-attributes/",
    "result": {"data":{"markdownRemark":{"html":"<h2>SetAttributes() Doesn't Automatically Convert Types</h2>\n<p>I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building. Turns out the <code class=\"language-text\">setAttribute()</code> function doesn't automatically convert types. The SelectControl returns the value as a string, &#x26; since the attribute was expecting a Number:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The attribute wasn't getting saved as anything.</p>\n<h2>A Few Solutions</h2>\n<p>The easiest way to solve this is just convert the String value to a Number with <code class=\"language-text\">parseInt()</code> when setting the Attribute:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onChangeCat1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setAttributes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Other than that you can adjust your attribute type to just accept a string, however given that WordPress expects Post IDs to be Numbers this probably isn't the best solution:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Conclusion</h2>\n<p>Make sure you're saving your attributes as the appropriate type, (Number, String, Boolean, etc.) and WordPress Gutenberg should stop giving you issues. Hit me up on Twitter <a href=\"https://twitter.com/jackharner\">@JackHarner</a> if you have any other WordPress related questions.</p>","excerpt":"SetAttributes() Doesn't Automatically Convert Types I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building…","wordCount":{"words":143},"frontmatter":{"date":"March 15, 2022","updated":null,"title":"SelectControl Not Saving Attributes","subtitle":"Troubleshooting and Fixing A Custom Gutenberg Block","tags":["WordPress"],"featuredImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"original":{"src":"/static/featuredImage-af0bb5be96a29883f616acee4e8a72c7.png"}}},"ogImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"original":{"src":"/static/featuredImage-af0bb5be96a29883f616acee4e8a72c7.png"}}}},"fields":{"externalLink":"","externalLinkLabel":"Check It Out »","slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","ogImage":"./featuredImage.png","date":"March 15, 2022","unlisted":false}}},"pageContext":{"slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","related":[{"id":"bfeeada3-0a1c-5f16-98ec-53a957780a04","excerpt":"I read this great article from @swizec about how he made almost $400k over 5 years on the side through books, courses and other digital…","fields":{"date":"2020-07-25T19:42:25.402Z","slug":"/blog/lets-make-a-newsletter/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Let's Make A Newsletter","subtitle":"Mailing Lists Are King","tags":["Newsletter"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/22e8797ae72e98b620c3c6fddb12e28e/5ff92/liam-truong-oeDH20DVb2A-unsplash.jpg"}}}}},{"id":"04386542-30cc-5ae9-a2b2-46452eba9cb4","excerpt":"Day 331 : Sunday, March 14th 2021 Wow. It's been a while. Just recently got my like 5th wind on this project and got a lot done in the last…","fields":{"date":"2021-03-14T16:42:08.000Z","slug":"/blog/simple-tweets-build-log/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Schedule Tweets Without Thinking About It","subtitle":"Simple Tweets Build Log","tags":["Build Log","Node","React"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/4905ee8277a7ee9fe2f35c8bbe674755/f969e/og-photo.png"}}}}},{"id":"a3d5e29c-5dc0-53b7-b8ca-b519f5d50e8d","excerpt":"MkDocs is a \"fast, simple and downright gorgeous\" static site generator for turning a collection of Markdown files into a documentation site…","fields":{"date":"2020-08-09T11:53:35.000Z","slug":"/blog/generate-a-docs-site-instantly/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"Generate Documentation From Markdown AUTOMATICALLY","subtitle":"Meet MkDocs","tags":["Automation","Markdown","Python","Newsletter"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/d17fa935e155b23ff8c349c2d6a282f1/5ff92/maarten-van-den-heuvel-8EzNkvLQosk-unsplash.jpg"}}}}},{"id":"1732511e-0852-527d-b359-940d470ea8b0","excerpt":"After wanting one for some time, I finally caved and bought a Raspberry Pi. I got the Pi 4 Model B, the latest and greatest. It boasts the…","fields":{"date":"2020-05-30T02:06:06.076Z","slug":"/blog/i-just-got-a-raspberry-pi/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out »"},"frontmatter":{"title":"I Just Got A Raspberry Pi","subtitle":"PiHole, DNS, Oh My!","tags":["Raspberry Pi","Linux"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/f981484910e686b1685b12026887ba82/5ff92/featuredImage.jpg"}}}}}]}},
    "staticQueryHashes": ["3649515864","764694655"]}