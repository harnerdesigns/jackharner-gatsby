{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/gutenberg-selectcontrol-not-saving-attributes/","result":{"data":{"markdownRemark":{"html":"<h2>SetAttributes() Doesn't Automatically Convert Types</h2>\n<p>I was using a SelectControl to set a Category ID for a specific Gutenberg block I was building. Turns out the <code class=\"language-text\">setAttribute()</code> function doesn't automatically convert types. The SelectControl returns the value as a string, &#x26; since the attribute was expecting a Number:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The attribute wasn't getting saved as anything.</p>\n<h2>A Few Solutions</h2>\n<p>The easiest way to solve this is just convert the String value to a Number with <code class=\"language-text\">parseInt()</code> when setting the Attribute:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onChangeCat1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setAttributes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Other than that you can adjust your attribute type to just accept a string, however given that WordPress expects Post IDs to be Numbers this probably isn't the best solution:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token literal-property property\">attributes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">cat1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Conclusion</h2>\n<p>Make sure you're saving your attributes as the appropriate type, (Number, String, Boolean, etc.) and WordPress Gutenberg should stop giving you issues. Hit me up on Twitter <a href=\"https://twitter.com/jackharner\">@JackHarner</a> if you have any other WordPress related questions.</p>","excerpt":"SetAttributes() Doesn't Automatically Convert Types I was using a SelectControl to set a Category ID for a specific Gutenberg block I was buildingâ€¦","wordCount":{"words":143},"frontmatter":{"date":"March 15, 2022","updated":null,"title":"SelectControl Not Saving Attributes","subtitle":"Troubleshooting and Fixing A Custom Gutenberg Block","tags":["WordPress"],"featuredImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"original":{"src":"/static/featuredImage-af0bb5be96a29883f616acee4e8a72c7.png"}}},"ogImage":{"absolutePath":"/home/runner/work/jackharner-gatsby/jackharner-gatsby/content/blog/gutenberg-selectcontrol-not-saving-attributes/featuredImage.png","childImageSharp":{"original":{"src":"/static/featuredImage-af0bb5be96a29883f616acee4e8a72c7.png"}}}},"fields":{"externalLink":"","externalLinkLabel":"Check It Out Â»","slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","ogImage":"./featuredImage.png","date":"March 15, 2022","unlisted":false}}},"pageContext":{"slug":"/blog/gutenberg-selectcontrol-not-saving-attributes/","related":[{"id":"7db9cb17-a99f-548b-8a2d-55cf727d77ee","excerpt":"Do you want to include the Subscriber Count from your ConvertKit Newsletter on your Gatsby.js Site? If that oddly specific scenario appliesâ€¦","fields":{"date":"2020-10-18T02:53:15.461Z","slug":"/blog/convertkit-subscriber-count-on-gatsby-site/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out Â»"},"frontmatter":{"title":"Display ConvertKit Subscriber Count On Your Gatsby Site","subtitle":"Use Social Proof To Drive More Newsletter Signups","tags":["Gatsby","Automation","JavaScript","Tutorial"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/95e7f8fda66383cb6f3026bb4df90fc3/5ff92/nick-hillier-yD5rv8_WzxA-unsplash.jpg"}}}}},{"id":"19179acf-05da-54ca-af33-b10ace0b0ec7","excerpt":"If you use GitHub actions to build and deploy (CI/CD) a project, you can schedule those actions to automatically run on a specific timeâ€¦","fields":{"date":"2022-08-28T01:31:07.167Z","slug":"/blog/github-actions-cron/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out Â»"},"frontmatter":{"title":"How to Run GitHub Actions on a Schedule","subtitle":"Using Cron with GitHub Actions","tags":["Automation","Git","Newsletter"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/9ed9c634f17b6fffd3b6ca13f9d6e452/5ff92/chuttersnap-mytSmcgVHRE-unsplash.jpg"}}}}},{"id":"0ba8f01c-9cee-5935-806c-0fe01667c902","excerpt":"DigitalOcean is a cloud infrastructure company based in New York City. They have blazing fast data centers all over the world and are myâ€¦","fields":{"date":"2021-05-18T17:12:33.962Z","slug":"/blog/getting-started-with-digital-ocean/","collection":"blog","published":true,"externalLink":"https://m.do.co/c/66cca12b82bc","externalLinkLabel":"Create An Account On  DigitalOcean"},"frontmatter":{"title":"Getting Started With DigitalOcean","subtitle":"Setting Up A Team & Sharing Access","tags":["Tutorial","DigitalOcean"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/a99b7577bcb222b2e967baf3d1e0b55b/5ff92/featuredImage.jpg"}}}}},{"id":"0454def4-e65f-54ce-b7ab-810a32a06438","excerpt":"As of writing, I've been freelancing fulltime for just over 200 days now (Woo ðŸŽ‰) and I wanted to share with y'all what I've been doing toâ€¦","fields":{"date":"2021-12-12T20:04:46.451Z","slug":"/blog/how-to-get-freelance-clients-2021/","collection":"blog","published":true,"externalLink":"","externalLinkLabel":"Check It Out Â»"},"frontmatter":{"title":"How To Get Freelance Clients In 2021","subtitle":"What's Worked For Me & My Plans For 2022","tags":["Freelance","Career","Newsletter","Automation"],"published":true,"featuredImage":{"childImageSharp":{"resize":{"src":"/static/fcd777851be1d5f2e068c3b3c03320fa/5ff92/photo-1545987796-200677ee1011.jpg"}}}}}]}},"staticQueryHashes":["3649515864","764694655"]}